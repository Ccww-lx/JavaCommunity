# RocketMQå…¥é—¨æ‰‹å†Œ

RocketMQæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ã€é˜Ÿåˆ—æ¨¡åž‹çš„å¼€æºæ¶ˆæ¯ä¸­é—´ä»¶ï¼Œå‰èº«æ˜¯MetaQï¼Œæ˜¯é˜¿é‡Œç ”å‘çš„ä¸€ä¸ªé˜Ÿåˆ—æ¨¡åž‹çš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼ŒåŽå¼€æºç»™apacheåŸºé‡‘ä¼šæˆä¸ºäº†apacheçš„é¡¶çº§å¼€æºé¡¹ç›®ï¼Œå…·æœ‰é«˜æ€§èƒ½ã€é«˜å¯é ã€é«˜å®žæ—¶ã€åˆ†å¸ƒå¼ç‰¹ç‚¹ï¼Œ

åŒæ—¶ï¼Œå¹¿æ³›åº”ç”¨äºŽå¤šä¸ªé¢†åŸŸï¼ŒåŒ…æ‹¬å¼‚æ­¥é€šä¿¡è§£è€¦ã€ä¼ä¸šè§£å†³æ–¹æ¡ˆã€é‡‘èžæ”¯ä»˜ã€ç”µä¿¡ã€ç”µå­å•†åŠ¡ã€å¿«é€’ç‰©æµã€å¹¿å‘Šè¥é”€ã€ç¤¾äº¤ã€å³æ—¶é€šä¿¡ã€ç§»åŠ¨åº”ç”¨ã€æ‰‹æ¸¸ã€è§†é¢‘ã€ç‰©è”ç½‘ã€è½¦è”ç½‘ç­‰ã€‚

å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

- èƒ½å¤Ÿä¿è¯ä¸¥æ ¼çš„æ¶ˆæ¯é¡ºåº
- æä¾›ä¸°å¯Œçš„æ¶ˆæ¯æ‹‰å–æ¨¡å¼
- é«˜æ•ˆçš„è®¢é˜…è€…æ°´å¹³æ‰©å±•èƒ½åŠ›
- å®žæ—¶çš„æ¶ˆæ¯è®¢é˜…æœºåˆ¶
- äº¿çº§æ¶ˆæ¯å †ç§¯èƒ½åŠ›



# RocketMQ æž¶æž„åŽŸç†åˆ†æž

### RocketMQ æž¶æž„

![img](https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAyMC80LzE0LzE3MTc3YzQ1N2FjMTM2Zjg?x-oss-process=image/format,png)

**NameServer ï¼ˆåç§°æœåŠ¡å™¨ï¼‰ï¼š**

- æä¾›è½»é‡çº§çš„æœåŠ¡å‘çŽ°å’Œè·¯ç”±ã€‚NameServeræŽ¥å—æ¥è‡ªBrokerç¾¤é›†çš„æ³¨å†Œï¼Œå¹¶æä¾›æ£€æµ‹ä¿¡å·æœºåˆ¶ä»¥æ£€æŸ¥Brokeræ˜¯å¦è¿˜å­˜åœ¨
-  æ¯ä¸ªNameServerè®°å½•å®Œæ•´çš„è·¯ç”±ä¿¡æ¯ï¼ˆBroker ç›¸å…³ Topic ç­‰å…ƒä¿¡æ¯ï¼Œå¹¶ç»™ Producer æä¾› Consumer æŸ¥æ‰¾ Broker ä¿¡æ¯ï¼‰ï¼Œæä¾›ç›¸åº”çš„è¯»å†™æœåŠ¡ã€‚

**Brokerï¼ˆæ¶ˆæ¯æœåŠ¡å™¨ï¼‰ï¼š** æ¶ˆæ¯å­˜å‚¨ä¸­å¿ƒï¼ŒæŽ¥æ”¶æ¥è‡ª Producer çš„æ¶ˆæ¯å¹¶å­˜å‚¨ï¼Œ Consumer ä»Žè¿™é‡Œå–å¾—æ¶ˆæ¯

- å•ä¸ªBrokerèŠ‚ç‚¹ä¸Žæ‰€æœ‰çš„NameServerèŠ‚ç‚¹ä¿æŒé•¿è¿žæŽ¥åŠå¿ƒè·³ï¼Œå¹¶ä¼šå®šæ—¶å°†Topicä¿¡æ¯æ³¨å†Œåˆ°NameServerï¼Œï¼ˆå…¶åº•å±‚é€šä¿¡æ˜¯åŸºäºŽNettyå®žçŽ°çš„ï¼‰
- Brokerè´Ÿè´£æ¶ˆæ¯å­˜å‚¨ï¼Œä»¥Topicä¸ºç»´åº¦æ”¯æŒè½»é‡çº§çš„é˜Ÿåˆ—ï¼Œå•æœºå¯ä»¥æ”¯æ’‘ä¸Šä¸‡é˜Ÿåˆ—è§„æ¨¡ï¼Œæ”¯æŒæ¶ˆæ¯æŽ¨æ‹‰æ¨¡åž‹ã€‚
- å…·æœ‰ä¸Šäº¿çº§æ¶ˆæ¯å †ç§¯èƒ½åŠ›ï¼ŒåŒæ—¶å¯ä¸¥æ ¼ä¿è¯æ¶ˆæ¯çš„æœ‰åºæ€§

**Producer ï¼ˆç”Ÿäº§è€…ï¼‰ï¼š**

- è´Ÿè´£äº§ç”Ÿæ¶ˆæ¯ï¼Œç”Ÿäº§è€…å‘æ¶ˆæ¯æœåŠ¡å™¨å‘é€ç”±ä¸šåŠ¡åº”ç”¨ç¨‹åºç³»ç»Ÿç”Ÿæˆçš„æ¶ˆæ¯

- ç”Ÿäº§è€…æ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½²ã€‚ åˆ†å¸ƒå¼ç”Ÿäº§è€…é€šè¿‡å¤šç§è´Ÿè½½å¹³è¡¡æ¨¡å¼å°†æ¶ˆæ¯å‘é€åˆ°Brokeré›†ç¾¤ã€‚ å‘é€è¿‡ç¨‹æ”¯æŒå¿«é€Ÿå¤±è´¥å¹¶ä¸”å»¶è¿Ÿä½Ž

- ä¸‰ç§æ–¹å¼å‘é€æ¶ˆæ¯ï¼šåŒæ­¥ã€å¼‚æ­¥å’Œå•å‘

**Consumerï¼ˆæ¶ˆè´¹è€…ï¼‰ï¼š**

- è´Ÿè´£æ¶ˆè´¹æ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…ä»Žæ¶ˆæ¯æœåŠ¡å™¨æ‹‰å–ä¿¡æ¯å¹¶å°†å…¶è¾“å…¥ç”¨æˆ·åº”ç”¨ç¨‹åº
- ä¹Ÿæ”¯æŒâ€œæŽ¨å’Œæ‹‰â€æ¨¡åž‹ä¸­çš„åˆ†å¸ƒå¼éƒ¨ç½²ã€‚
-  å®ƒè¿˜æ”¯æŒé›†ç¾¤ä½¿ç”¨å’Œæ¶ˆæ¯å¹¿æ’­ã€‚ å®ƒæä¾›äº†å®žæ—¶æ¶ˆæ¯è®¢é˜…æœºåˆ¶ï¼Œå¯ä»¥æ»¡è¶³å¤§å¤šæ•°æ¶ˆè´¹è€…çš„éœ€æ±‚ã€‚ 



### Broker Server

Broker Serverè´Ÿè´£æ¶ˆæ¯çš„å­˜å‚¨å’Œä¼ é€’ï¼Œæ¶ˆæ¯æŸ¥è¯¢ï¼ŒHAé«˜å¯ç”¨ç­‰ï¼ŒBroker Serverå‡ ä¸ªä¸»è¦æ¨¡å—ç»„æˆï¼š

![img](https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAyMC80LzE0LzE3MTc3YzQ4YjZmMjJhYzk?x-oss-process=image/format,png)

Remoting Moduleï¼ˆè¿œç¨‹æ¨¡å—ï¼‰ï¼šbrokerå…¥å£ï¼Œå¤„ç†æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚

Client Managerï¼ˆå®¢æˆ·ç«¯ç®¡ç†ï¼‰ï¼šç®¡ç†clientï¼ˆç”Ÿäº§è€…/æ¶ˆè´¹è€…ï¼‰å¹¶ç»´æŠ¤æ¶ˆè´¹è€…çš„ä¸»é¢˜è®¢é˜…

Store Serviceï¼ˆå­˜å‚¨æœåŠ¡ï¼‰ï¼šæä¾›ç®€å•çš„APIä¸­æ•°æ®åº“ä¸­å­˜å‚¨æˆ–æŸ¥è¯¢æ¶ˆæ¯

HA Serviceï¼ˆé«˜å¯ç”¨æœåŠ¡ï¼‰ï¼šæä¾›master brokerå’Œslave brokerä¹‹é—´çš„æ•°æ®åŒæ­¥åŠŸèƒ½

Index Serviceï¼ˆç´¢å¼•æœåŠ¡ï¼‰ï¼šå°†messageå»ºç«‹ç´¢å¼•æ¥æä¾›å¿«é€Ÿçš„æŸ¥è¯¢èƒ½åŠ›

### RocketMQ æ•´ä½“æµç¨‹

![æ•´ä½“æµç¨‹](https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAyMC80LzE0LzE3MTc3YzQ3M2QyNTY0NmE?x-oss-process=image/format,png)

1. å¯åŠ¨ **NameServer**ï¼ŒNameServerå¯åŠ¨åŽè¿›è¡Œç«¯å£ç›‘å¬ï¼Œç­‰å¾… Brokerã€Producerã€Consumer è¿žä¸Šæ¥ï¼Œç›¸å½“äºŽä¸€ä¸ªè·¯ç”±æŽ§åˆ¶ä¸­å¿ƒ
2. **Broker** å¯åŠ¨ï¼Œè·Ÿæ‰€æœ‰çš„ Namesrv ä¿æŒé•¿è¿žæŽ¥ï¼Œå®šæ—¶å‘é€å¿ƒè·³åŒ…
   - å¿ƒè·³åŒ…ä¸­ï¼ŒåŒ…å«å½“å‰ Broker ä¿¡æ¯(IP+ç«¯å£ç­‰)ä»¥åŠå­˜å‚¨æ‰€æœ‰ Topic ä¿¡æ¯
   - æ³¨å†ŒæˆåŠŸåŽï¼ŒNamesrv é›†ç¾¤ä¸­å°±æœ‰ Topic è·Ÿ Broker çš„æ˜ å°„å…³ç³»
3. æ”¶å‘æ¶ˆæ¯å‰ï¼Œå…ˆåˆ›å»º Topic ã€‚åˆ›å»º Topic æ—¶ï¼Œéœ€è¦æŒ‡å®šè¯¥ Topic è¦å­˜å‚¨åœ¨å“ªäº› Brokerä¸Šã€‚ä¹Ÿå¯ä»¥åœ¨å‘é€æ¶ˆæ¯æ—¶è‡ªåŠ¨åˆ›å»ºTopic
4. **Producer** å‘é€æ¶ˆæ¯
   - å¯åŠ¨æ—¶ï¼Œå…ˆè·Ÿ Namesrv é›†ç¾¤ä¸­çš„å…¶ä¸­ä¸€å°å»ºç«‹é•¿è¿žæŽ¥ï¼Œå¹¶ä»ŽNamesrv ä¸­èŽ·å–å½“å‰å‘é€çš„ Topic å­˜åœ¨å“ªäº› Broker ä¸Š
   - ç„¶åŽè·Ÿå¯¹åº”çš„ Broker å»ºç«‹é•¿è¿žæŽ¥ï¼Œç›´æŽ¥å‘ Broker å‘æ¶ˆæ¯
5. **Consumer** æ¶ˆè´¹æ¶ˆæ¯
   - è·Ÿå…¶ä¸­ä¸€å° Namesrv å»ºç«‹é•¿è¿žæŽ¥ï¼ŒèŽ·å–å½“å‰è®¢é˜… Topic å­˜åœ¨å“ªäº› Broker ä¸Š
   - ç„¶åŽç›´æŽ¥è·Ÿ Broker å»ºç«‹è¿žæŽ¥é€šé“ï¼Œå¼€å§‹æ¶ˆè´¹æ¶ˆæ¯*RocketMQçš„æ¶ˆæ¯é¢†åŸŸæ¨¡åž‹

### RocketMQ Message

![img](https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAyMC80LzE0LzE3MTc3YzQ1NzRhMTI0ZTY?x-oss-process=image/format,png)

**Topicï¼ˆä¸»é¢˜ï¼‰ï¼š** è¡¨ç¤ºæ¶ˆæ¯çš„ç¬¬ä¸€çº§ç±»åž‹ï¼Œæ˜¯æœ€ç»†ç²’åº¦çš„è®¢é˜…å•ä½ï¼ˆç”Ÿäº§è€…ä¼ é€’æ¶ˆæ¯å’Œæ¶ˆè´¹è€…æå–æ¶ˆæ¯æ ‡è¯†ï¼‰

- ä¸€æ¡æ¶ˆæ¯å¿…é¡»æœ‰ä¸€ä¸ªTopic
- ä¸€ä¸ªGroupå¯ä»¥è®¢é˜…å¤šä¸ªTopicçš„æ¶ˆæ¯
- Topicä¸€èˆ¬ä¸ºé¢†åŸŸèŒƒå›´ï¼Œæ¯”å¦‚äº¤æ˜“æ¶ˆæ¯

**Tagï¼ˆæ ‡ç­¾ï¼‰ï¼š** è¡¨ç¤ºæ¶ˆæ¯çš„ç¬¬äºŒçº§ç±»åž‹ï¼Œå¯ä»¥æ˜¯ä½¿ç”¨ç›¸åŒçš„Topicä¸åŒçš„Tagæ¥è¡¨ç¤ºåŒä¸€ä¸šåŠ¡æ¨¡å—çš„ä¸åŒä»»åŠ¡çš„æ¶ˆæ¯ï¼Œæ¯”å¦‚äº¤æ˜“æ¶ˆæ¯åˆå¯ä»¥åˆ†ä¸ºï¼šäº¤æ˜“åˆ›å»ºæ¶ˆæ¯ï¼Œäº¤æ˜“å®Œæˆæ¶ˆæ¯ç­‰

- åŠ©äºŽä¿æŒä»£ç æ•´æ´å’Œä¸€è‡´
- ç®€åŒ–RocketMQæä¾›çš„æŸ¥è¯¢ç³»ç»Ÿ

**Messageï¼ˆæ¶ˆæ¯ä½“ï¼‰ï¼š** æ¶ˆæ¯æ˜¯è¦ä¼ é€’çš„ä¿¡æ¯ã€‚ Messageä¸­å¿…é¡»åŒ…å«ä¸€ä¸ªTopicï¼Œå¯é€‰Tagå’Œkey-vauleé”®å€¼å¯¹

**Message Queueï¼ˆæ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼š** æ‰€æœ‰æ¶ˆæ¯é˜Ÿåˆ—éƒ½æ˜¯æŒä¹…åŒ–

- ä¸€ä¸ªTopicä¸‹å¯ä»¥æœ‰å¤šä¸ªQueue
- Queueçš„å¼•å…¥ä½¿å¾—æ¶ˆæ¯çš„å­˜å‚¨å¯ä»¥åˆ†å¸ƒå¼é›†ç¾¤åŒ–ï¼Œå…·æœ‰äº†æ°´å¹³æ‰©å±•èƒ½åŠ›

**Groupï¼ˆç»„ï¼‰ï¼š** åˆ†ä¸ºProducer Groupï¼ˆç”Ÿäº§è€…ç»„ï¼‰å’ŒConsumer Groupï¼ˆæ¶ˆè´¹è€…ç»„ï¼‰ï¼Œå…·æœ‰ç›¸åŒè§’è‰²ç»„æˆGroup

- åŽŸç”Ÿäº§è€…åœ¨äº¤æ˜“åŽå´©æºƒï¼Œbrokerå¯ä»¥è”ç³»åŒä¸€ç”Ÿäº§è€…ç»„çš„ä¸åŒç”Ÿäº§è€…å®žä¾‹ä»¥è¿›è¡Œæäº¤æˆ–å›žé€€äº¤æ˜“ã€‚

- æ¶ˆè´¹è€…ç»„çš„æ¶ˆè´¹è€…å®žä¾‹å¿…é¡»å…·æœ‰å®Œå…¨ç›¸åŒçš„ä¸»é¢˜è®¢é˜…

### RocketMQ ç‰¹æ€§

 **Message Modelï¼ˆæ¶ˆæ¯æ¨¡å¼ï¼‰ï¼š**

- Clusteringï¼ˆé›†ç¾¤å¼ï¼‰ï¼šå½“ä½¿ç”¨é›†ç¾¤æ¶ˆè´¹æ¨¡å¼æ—¶ï¼ŒMQ è®¤ä¸ºä»»æ„ä¸€æ¡æ¶ˆæ¯åªéœ€è¦è¢«é›†ç¾¤å†…çš„ä»»æ„ä¸€ä¸ªæ¶ˆè´¹è€…å¤„ç†å³å¯
- Broadcastingï¼ˆå¹¿æ’­å¼ï¼‰ï¼šå½“ä½¿ç”¨å¹¿æ’­æ¶ˆè´¹æ¨¡å¼æ—¶ï¼ŒMQ ä¼šå°†æ¯æ¡æ¶ˆæ¯æŽ¨é€ç»™é›†ç¾¤å†…æ‰€æœ‰æ³¨å†Œè¿‡çš„å®¢æˆ·ç«¯ï¼Œä¿è¯æ¶ˆæ¯è‡³å°‘è¢«æ¯å°æœºå™¨æ¶ˆè´¹ä¸€æ¬¡

**Message Orderï¼ˆæ¶ˆæ¯é¡ºåºï¼‰**

- ä½¿ç”¨DefaultMQPushConsumeræ—¶ï¼Œå¯ä»¥å†³å®šæŒ‰é¡ºåºæˆ–åŒæ—¶ä½¿ç”¨æ¶ˆæ¯

  - Orderlyï¼šæœ‰åºåœ°ä½¿ç”¨æ¶ˆæ¯æ„å‘³ç€æ¶ˆæ¯çš„æ¶ˆè´¹é¡ºåºä¸Žç”Ÿäº§è€…ä¸ºæ¯ä¸ªæ¶ˆæ¯é˜Ÿåˆ—å‘é€æ¶ˆæ¯çš„é¡ºåºç›¸åŒã€‚ï¼ˆ å¦‚æžœè¦å¤„ç†å¿…é¡»å¼ºåˆ¶æ‰§è¡Œå…¨å±€é¡ºåºçš„æƒ…å†µï¼Œè¯·ç¡®ä¿æ‚¨ä½¿ç”¨çš„ä¸»é¢˜åªæœ‰ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼‰

  > å¦‚æžœæŒ‡å®šæŒ‰é¡ºåºä½¿ç”¨ï¼Œåˆ™æ¶ˆæ¯ä½¿ç”¨çš„æœ€å¤§å¹¶å‘åº¦æ˜¯ä½¿ç”¨è€…ç»„è®¢é˜…çš„æ¶ˆæ¯é˜Ÿåˆ—æ•°

  - Concurrentlyï¼šåŒæ—¶ä½¿ç”¨æ¶ˆæ¯æ—¶ï¼Œæ¶ˆæ¯ä½¿ç”¨çš„æœ€å¤§å¹¶å‘æ€§ä»…å—ä¸ºæ¯ä¸ªä½¿ç”¨æ–¹å®¢æˆ·ç«¯æŒ‡å®šçš„çº¿ç¨‹æ± é™åˆ¶

  > åœ¨æ­¤æ¨¡å¼ä¸‹ä¸å†ä¿è¯æ¶ˆæ¯é¡ºåº

**Message  Typesï¼ˆæ¶ˆæ¯ç±»åž‹ï¼‰**

- äº‹åŠ¡æ¶ˆæ¯
- é¡ºåºæ¶ˆæ¯
- å»¶è¿Ÿæ¶ˆæ¯

## RocketMQå•æœºç‰ˆå®‰è£…

1. **ä¸‹è½½ç¼–è¯‘æºç **

   ```
     # ä¸‹è½½$ 
     > wget wget http://mirror.bit.edu.cn/apache/rocketmq/4.6.0/rocketmq-all-4.6.0-source- > 
     # è§£åŽ‹$
     >unzip rocketmq-all-4.7.0-source-release.zip
     > cd rocketmq-all-4.7.0/
     # ç¼–è¯‘$
     > mvn -Prelease-all -DskipTests clean install -U
     > cd distribution/target/rocketmq-4.7.0/rocketmq-4.7.0
   ```

   

2. **å¯åŠ¨ Name Server**

   ```
    # å¯åŠ¨ Name Server æœåŠ¡
    > nohup sh bin/mqnamesrv &
    # å¯åŠ¨å®ŒæˆåŽï¼ŒæŸ¥çœ‹æ—¥å¿—$
    > tail -f ~/logs/rocketmqlogs/namesrv.log
     The Name Server boot success...
   ```

   

3. **å¯åŠ¨ Broker**

   åœ¨ `conf` ç›®å½•ä¸‹ï¼ŒRocketMQ æä¾›äº†å¤šç§ Broker çš„é…ç½®æ–‡ä»¶ï¼š

   - `broker.conf` ï¼šå•ä¸»ï¼Œå¼‚æ­¥åˆ·ç›˜ã€‚
   - `2m/` ï¼šåŒä¸»ï¼Œå¼‚æ­¥åˆ·ç›˜ã€‚
   - `2m-2s-async/` ï¼šä¸¤ä¸»ä¸¤ä»Žï¼Œå¼‚æ­¥å¤åˆ¶ï¼Œå¼‚æ­¥åˆ·ç›˜ã€‚
   - `2m-2s-sync/` ï¼šä¸¤ä¸»ä¸¤ä»Žï¼ŒåŒæ­¥å¤åˆ¶ï¼Œå¼‚æ­¥åˆ·ç›˜ã€‚
   - `dledger/` ï¼šDledger é›†ç¾¤ï¼Œè‡³å°‘ä¸‰èŠ‚ç‚¹

   ```
    # å¯åŠ¨ BrokeræœåŠ¡
    > nohup sh bin/mqbroker -n localhost:9876 &
    # å¯åŠ¨å®ŒæˆåŽï¼ŒæŸ¥çœ‹æ—¥å¿—$
    > tail -f ~/logs/rocketmqlogs/broker.log 
     The broker[%s, 172.30.30.233:10911] boot success...
   ```

   å…¶ä¸­ï¼Œå‚æ•°ï¼š

   - é€šè¿‡ `-c` å‚æ•°ï¼Œé…ç½®è¯»å–çš„ä¸» Broker é…ç½®

   - é€šè¿‡ `-n` å‚æ•°ï¼Œè®¾ç½® RocketMQ Namesrv åœ°å€

   

4. **Send & Receive Messagesï¼ˆæ¶ˆæ¯å‘é€ä¸ŽæŽ¥æ”¶ï¼‰**

   åœ¨å‘é€/æŽ¥æ”¶æ¶ˆæ¯ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å‘ŠçŸ¥clientï¼ˆç”Ÿäº§è€…/æ¶ˆè´¹è€…ï¼‰Name Serversçš„åœ°å€ã€‚ RocketMQæä¾›äº†å¤šç§æ–¹æ³•æ¥å®žçŽ°ï¼š

   - åœ¨ä»£ç ä¸­è®¾ç½®ï¼šproducer.setNamesrvAddr("ip:port")
   - javaå±žæ€§é…ç½®ï¼šrocketmq.namesrv.addr
   - çŽ¯å¢ƒå˜é‡é…ç½®ï¼šNAMESRV_ADDR
   - HTTP Endpoint

   ä¸ºç®€å•èµ·è§ï¼Œæˆ‘ä»¬ä½¿ç”¨çŽ¯å¢ƒå˜é‡ï¼šNAMESRV_ADDRï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

   ```
    # è®¾ç½® Name Serversçš„åœ°å€$
    > export NAMESRV_ADDR=localhost:9876
    # ç”Ÿäº§æ¶ˆæ¯$
    > sh bin/tools.sh org.apache.rocketmq.example.quickstart.Producer
    SendResult [sendStatus=SEND_OK, msgId= ...
    # æ¶ˆè´¹æ¶ˆæ¯$ 
    > sh bin/tools.sh org.apache.rocketmq.example.quickstart.Consumer
    ConsumeMessageThread_%d Receive New Messages: [MessageExt...
   ```


> å„ä½çœ‹å®˜è¿˜å¯ä»¥å—ï¼Ÿå–œæ¬¢çš„è¯ï¼ŒåŠ¨åŠ¨æ‰‹æŒ‡ç‚¹ä¸ªðŸ’—ï¼Œç‚¹ä¸ªå…³æ³¨å‘—ï¼ï¼è°¢è°¢æ”¯æŒï¼
>
> æ¬¢è¿Žå…³æ³¨ï¼ŒåŽŸåˆ›æŠ€æœ¯æ–‡ç« ç¬¬ä¸€æ—¶é—´æŽ¨å‡º
![](https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAyMC80LzE0LzE3MTc5MjY5MGIxOWUwYjg?x-oss-process=image/format,png)
